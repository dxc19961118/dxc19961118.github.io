{"title":"Java开发规范","uid":"c1e27a71a1804b0860b5e849cbef0a50","slug":"Java_开发规范","date":"2023-04-28T14:09:53.000Z","updated":"2023-04-28T14:09:53.000Z","comments":true,"path":"api/articles/Java_开发规范.json","keywords":null,"cover":"/images/log.jpg","content":"<h2 id=\"开发工具\"><a href=\"#开发工具\" class=\"headerlink\" title=\"开发工具\"></a>开发工具</h2><p>推荐使用 <a href=\"https://www.jetbrains.com/idea/\">IntelliJ IDEA – the Leading Java and Kotlin IDE</a></p>\n<h3 id=\"如何长期使用商业版本\"><a href=\"#如何长期使用商业版本\" class=\"headerlink\" title=\"如何长期使用商业版本\"></a>如何长期使用商业版本</h3><blockquote><span class=\"custom-blockquote-svg\"><svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"\" xmlns=\"http://www.w3.org/2000/svg\" data-reactroot=\"\">\n<path fill=\"\" d=\"M22 12C22 6.5 17.5 2 12 2C6.5 2 2 6.5 2 12C2 17.5 6.5 22 12 22C13.8 22 15.5 21.5 17 20.6L22 22L20.7 17C21.5 15.5 22 13.8 22 12Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\" undefined=\"1\"></path>\n<path fill=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\" undefined=\"1\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M17 8.5C15.23 8.97 14.07 10.84 14.01 13.27C14 13.33 14 13.4 14 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M9 8.5C7.23 8.97 6.07 10.84 6.01 13.27C6 13.33 6 13.4 6 13.47V13.5\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M15.97 11.5H16.04C17.12 11.5 18 12.38 18 13.47V13.53C18 14.62 17.12 15.5 16.03 15.5H15.96C14.88 15.5 14 14.62 14 13.53V13.46C14 12.38 14.88 11.5 15.97 11.5Z\"></path>\n<path stroke-linejoin=\"round\" stroke-linecap=\"round\" stroke-miterlimit=\"10\" stroke-width=\"2\" stroke=\"\" d=\"M7.97 11.5H8.04C9.12 11.5 10 12.38 10 13.47V13.53C10 14.62 9.12 15.5 8.03 15.5H7.97C6.88 15.5 6 14.62 6 13.53V13.46C6 12.38 6.88 11.5 7.97 11.5Z\"></path>\n</svg>\n</span><p>适用于目前 jetbrains 所有应用的最新版本以及大部分插件</p></blockquote>\n<ol>\n<li>打开网址：<code>https://jetbra.in/s</code></li>\n<li>点击一个自己喜欢的可用的 hostname</li>\n<li>下载<code> jetbra.zip</code> </li>\n<li>将下载的压缩文件解压到自己喜欢的目录下</li>\n<li>进入到<code>/jetbra/scripts</code>目录下<ol>\n<li>Windows 系统：双击<code>install-all-users.vbs</code>，弹出 Done 的对话框就表示安装完成</li>\n<li>Mac 系统执行：<code>sh ./install.sh</code></li>\n</ol>\n</li>\n<li>打开你的 Jerbrains 应用</li>\n<li>在第 2 步打开的网址中选择你的应用，复制对应的 Code，在激活页面中选择Activation code，将复制的 Code 粘贴到输入框中，点击Activate</li>\n<li>收费插件与第 7 步同理</li>\n<li>Enjoy It~</li>\n</ol>\n<h3 id=\"插件推荐\"><a href=\"#插件推荐\" class=\"headerlink\" title=\"插件推荐\"></a>插件推荐</h3><ul>\n<li>代码格式化：<a href=\"https://plugins.jetbrains.com/plugin/8527-google-java-format\">google-java-format - IntelliJ IDEs Plugin | Marketplace</a><br>插件安装完成后添加 Idea 配置：<a href=\"https://github.com/google/google-java-format/blob/master/README.md#intellij-jre-config\">google-java-format&#x2F;README.md at master · google&#x2F;google-java-format</a></li>\n<li>Git Message 提交规范：<a href=\"https://plugins.jetbrains.com/plugin/20935-git-commit-message-format\">Git Commit Message Format - IntelliJ IDEs Plugin | Marketplace</a><br>提交时Type of change和Subject of change必填</li>\n<li>阿里巴巴代码扫描：<a href=\"https://plugins.jetbrains.com/plugin/14109-alibaba-java-coding-guidelines-xenoamess-tpm-\">Alibaba Java Coding Guidelines(XenoAmess TPM) - IntelliJ IDEs Plugin | Marketplace</a></li>\n</ul>\n<h2 id=\"项目规约\"><a href=\"#项目规约\" class=\"headerlink\" title=\"项目规约\"></a>项目规约</h2><h3 id=\"单体项目结构分层\"><a href=\"#单体项目结构分层\" class=\"headerlink\" title=\"单体项目结构分层\"></a>单体项目结构分层</h3><p><img src=\"https://cdn.nlark.com/yuque/0/2023/jpeg/35795713/1682234274850-b753fdb5-89ca-45bc-bd3b-6191fa2068fb.jpeg\"></p>\n<h3 id=\"编码规约\"><a href=\"#编码规约\" class=\"headerlink\" title=\"编码规约\"></a>编码规约</h3><ol>\n<li><code>Controller</code>不能直接注入 DAO 层</li>\n<li><code>Service</code>之间不能相互依赖，有业务需要不同<code>Service</code>方法配合的时候，将该业务提取到<code>Manager</code>层解决</li>\n<li><code>Repository/Mapper</code>只能注入到<code>Service</code>，不能注入到<code>Manager</code></li>\n<li>在开发过程中除了专有词汇，不允许出现中文拼音和中文拼音缩写等不规范的命名方式</li>\n<li>不允许出现循环依赖，出现循环依赖的原因大概率是代码结构设计不合理</li>\n<li>Controller、接口、工具类的方法需要写明详细注释</li>\n<li>方法注释需要对方法所有形参进行说明</li>\n<li>方法体内的代码注释使用双斜杠的写法：<code>// 注释</code></li>\n<li>代码中尽量不要出现编辑器的警告，如果实在无法避免，加上注解抑制警告，并尽量注明原因</li>\n<li>根据 ID 批量查询数据的时候，入参推荐<code>Set&lt;Long&gt;</code></li>\n<li>中间表不提供Controller，如用户-角色表不提供<code>UserRoleController</code>，如有需求操作该表数据，则根据需求的条件，将功能写在条件对应的Controller，并在该Controller 注入中间表的Service ，使用该Service处理业务</li>\n</ol>\n<h2 id=\"开发手册\"><a href=\"#开发手册\" class=\"headerlink\" title=\"开发手册\"></a>开发手册</h2><p><a href=\"https://youxuelu.yuque.com/attachments/yuque/0/2023/pdf/35795713/1682234475142-77741a2b-5b3c-40f4-9d2a-60509258f218.pdf?_lake_card=%7B%22src%22:%22https://youxuelu.yuque.com/attachments/yuque/0/2023/pdf/35795713/1682234475142-77741a2b-5b3c-40f4-9d2a-60509258f218.pdf%22,%22name%22:%22Java%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C(%E9%BB%84%E5%B1%B1%E7%89%88).pdf%22,%22size%22:1496687,%22ext%22:%22pdf%22,%22source%22:%22%22,%22status%22:%22done%22,%22download%22:true,%22taskId%22:%22uc01b914f-1d7e-45f2-9714-aec53e4651a%22,%22taskType%22:%22upload%22,%22type%22:%22application/pdf%22,%22__spacing%22:%22both%22,%22mode%22:%22title%22,%22id%22:%22u9cdb8af3%22,%22margin%22:%7B%22top%22:true,%22bottom%22:true%7D,%22card%22:%22file%22%7D\">Java开发手册(黄山版).pdf</a></p>\n<h2 id=\"使用Maven私服\"><a href=\"#使用Maven私服\" class=\"headerlink\" title=\"使用Maven私服\"></a>使用Maven私服</h2><p>在 <code>settings.xml</code>配置文件中加入以下内容</p>\n<pre class=\"line-numbers language-markup\" data-language=\"markup\"><code class=\"language-markup\">&lt;mirrors&gt;\n  &lt;mirror&gt;  \n    &lt;id&gt;nexus&lt;&#x2F;id&gt;  \n    &lt;name&gt;nexus repository&lt;&#x2F;name&gt;  \n    &lt;url&gt;http:&#x2F;&#x2F;192.168.1.190:8000&#x2F;repository&#x2F;yxl_group&#x2F;&lt;&#x2F;url&gt;  \n    &lt;mirrorOf&gt;central&lt;&#x2F;mirrorOf&gt;  \n  &lt;&#x2F;mirror&gt;\n&lt;&#x2F;mirrors&gt;</code></pre>\n<h1 id=\"Git-版本控制规范\"><a href=\"#Git-版本控制规范\" class=\"headerlink\" title=\"Git 版本控制规范\"></a>Git 版本控制规范</h1><h2 id=\"分支管理\"><a href=\"#分支管理\" class=\"headerlink\" title=\"分支管理\"></a>分支管理</h2><p>必读：<br><a href=\"https://www.git-tower.com/learn/git/ebook/cn/command-line/advanced-topics/git-flow#start\">git-flow 的工作流程</a><br><a href=\"https://juejin.cn/post/6844903593015787534\">简介我的 Git Work Flow - 掘金</a><br>推荐阅读：<br><a href=\"https://www.git-tower.com/learn/git/ebook/cn/command-line/introduction#start\">Learn Version Control with Git</a></p>\n<h2 id=\"分支介绍\"><a href=\"#分支介绍\" class=\"headerlink\" title=\"分支介绍\"></a>分支介绍</h2><table>\n<thead>\n<tr>\n<th>分支名称</th>\n<th>分支类型</th>\n<th>分支介绍</th>\n</tr>\n</thead>\n<tbody><tr>\n<td>master</td>\n<td>长期分支</td>\n<td>主分支，所有的代码改动不直接提交到该分支</td>\n</tr>\n<tr>\n<td>develop</td>\n<td>长期分支</td>\n<td>开发分支，开发时使用的分支</td>\n</tr>\n<tr>\n<td>feature</td>\n<td>短期分支</td>\n<td>新功能的开发，开发完成后合并到 develop分支</td>\n</tr>\n<tr>\n<td>hotfix</td>\n<td>短期分支</td>\n<td>修复线上BUG，修复完成后合并到master和develop分支</td>\n</tr>\n<tr>\n<td>release</td>\n<td>短期分支</td>\n<td>发版前的分支，在上线前进行充分测试后合并到master和develop分支</td>\n</tr>\n</tbody></table>\n<h2 id=\"常用命令及功能介绍\"><a href=\"#常用命令及功能介绍\" class=\"headerlink\" title=\"常用命令及功能介绍\"></a>常用命令及功能介绍</h2><ol>\n<li>初始化项目：<code>git flow init</code>初始化<code>git-flow</code>的相关配置，提供<code>git-flow</code>工作流程的快捷命令</li>\n<li>开发新功能：<code>git flow feature start &lt;feature-name&gt;</code>要开发新功能的时候执行该命令，该命令会基于<code>develop</code>分支创建一个新功能的分支，并切换到该分支</li>\n<li>新功能开发结束：<code>git flow feature finish &lt;feature-name&gt;</code>新功能充分测试完成后，执行该命令，该命令会将新功能所在的分支合并到<code>develop</code>分支，并在本地删除该分支，本地切换到develop分支</li>\n<li>开始新的版本：<code>git flow release start &lt;version-number&gt;``develop</code>分支充分测试后执行该命令，该命令基于<code>develop</code>分支创建<code>release</code>分支，并切换到该分支，然后项目经理进行验收</li>\n<li>结束版本：<code>git flow release finish &lt;version-number&gt;</code>项目经理验收上线完成后执行该命令，该命令会拉取远程仓库，以确保目前是最新的版本，然后将<code>release</code>分支的内容合并到master分支和develop分支</li>\n<li>修复线上BUG：<code>git flow hotfix start &lt;bug-name&gt;</code>修复线上问题时执行该命令，该命令会基于<code>master</code>分支创建<code>hotfix</code>分支，用于修复线上问题</li>\n<li>修复BUG后上线：<code>git flow hotfix finish &lt;bug-name&gt;</code>问题经过测试和验收后执行该命令，该命令会将代码合并到<code>master</code>分支和<code>develop</code>分支，删除该<code>hotfix</code>分支，切换到<code>develop</code>分支</li>\n</ol>\n<h2 id=\"提交规范\"><a href=\"#提交规范\" class=\"headerlink\" title=\"提交规范\"></a>提交规范</h2><p>使用 Idea 插件<a href=\"https://plugins.jetbrains.com/plugin/20935-git-commit-message-format\">Git Commit Message Format - IntelliJ IDEs Plugin | Marketplace</a>设置 Commit Message<br><img src=\"https://cdn.nlark.com/yuque/0/2023/png/35795713/1682235403317-d90b1f83-fb9a-4489-b8f3-b2a8eba75031.png#averageHue=%2394a299&clientId=u9920789e-bd57-4&from=paste&id=u7670878e&originHeight=601&originWidth=928&originalType=url&ratio=1&rotation=0&showTitle=false&status=done&style=none&taskId=u78554074-0630-4ecb-983d-bab096abdd4&title=\"><br>Type of change：此次提交的修改类型<br>Subject of change：简明扼要地描述所做的更改<br>以上两项必填</p>\n","feature":true,"text":"IDE、插件、阿里黄山版、git提交规范...","link":"","photos":[],"count_time":{"symbolsCount":"2.9k","symbolsTime":"3 mins."},"categories":[{"name":"编程","slug":"编程","count":16,"path":"api/categories/编程.json"}],"tags":[{"name":"Java","slug":"Java","count":9,"path":"api/tags/Java.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7\"><span class=\"toc-text\">开发工具</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%A6%82%E4%BD%95%E9%95%BF%E6%9C%9F%E4%BD%BF%E7%94%A8%E5%95%86%E4%B8%9A%E7%89%88%E6%9C%AC\"><span class=\"toc-text\">如何长期使用商业版本</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%8F%92%E4%BB%B6%E6%8E%A8%E8%8D%90\"><span class=\"toc-text\">插件推荐</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E9%A1%B9%E7%9B%AE%E8%A7%84%E7%BA%A6\"><span class=\"toc-text\">项目规约</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8D%95%E4%BD%93%E9%A1%B9%E7%9B%AE%E7%BB%93%E6%9E%84%E5%88%86%E5%B1%82\"><span class=\"toc-text\">单体项目结构分层</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E7%BC%96%E7%A0%81%E8%A7%84%E7%BA%A6\"><span class=\"toc-text\">编码规约</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%BC%80%E5%8F%91%E6%89%8B%E5%86%8C\"><span class=\"toc-text\">开发手册</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E4%BD%BF%E7%94%A8Maven%E7%A7%81%E6%9C%8D\"><span class=\"toc-text\">使用Maven私服</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#Git-%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E8%A7%84%E8%8C%83\"><span class=\"toc-text\">Git 版本控制规范</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%86%E6%94%AF%E7%AE%A1%E7%90%86\"><span class=\"toc-text\">分支管理</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%88%86%E6%94%AF%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">分支介绍</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B8%B8%E7%94%A8%E5%91%BD%E4%BB%A4%E5%8F%8A%E5%8A%9F%E8%83%BD%E4%BB%8B%E7%BB%8D\"><span class=\"toc-text\">常用命令及功能介绍</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%8F%90%E4%BA%A4%E8%A7%84%E8%8C%83\"><span class=\"toc-text\">提交规范</span></a></li></ol>","author":{"name":"Dxc","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"Free will is not free. <br /> @ <b>公众号：精准拔草</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"CompletableFuture","uid":"894a6ea288f6d047d2f12049a353fbe7","slug":"CompletableFuture","date":"2023-05-28T14:09:53.000Z","updated":"2023-05-28T14:09:53.000Z","comments":true,"path":"api/articles/CompletableFuture.json","keywords":null,"cover":"/images/log.jpg","text":"CompletableFuture...","link":"","photos":[],"count_time":{"symbolsCount":"6.3k","symbolsTime":"6 mins."},"categories":[{"name":"编程","slug":"编程","count":16,"path":"api/categories/编程.json"}],"tags":[{"name":"Java","slug":"Java","count":9,"path":"api/tags/Java.json"}],"author":{"name":"Dxc","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"Free will is not free. <br /> @ <b>公众号：精准拔草</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true},"next_post":{"title":"投资箴言","uid":"c650dc2235f1f85832652cde372011f3","slug":"投资箴言","date":"2022-08-13T14:09:53.000Z","updated":"2022-08-13T14:09:53.000Z","comments":true,"path":"api/articles/投资箴言.json","keywords":null,"cover":"/images/touzi.jpg","text":"投资能力 = 专业知识 + 心态...","link":"","photos":[],"count_time":{"symbolsCount":"3.8k","symbolsTime":"3 mins."},"categories":[{"name":"投资","slug":"投资","count":2,"path":"api/categories/投资.json"}],"tags":[{"name":"文章整理","slug":"文章整理","count":2,"path":"api/tags/文章整理.json"}],"author":{"name":"Dxc","slug":"blog-author","avatar":"/images/avatar.png","link":"/","description":"Free will is not free. <br /> @ <b>公众号：精准拔草</b>","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"feature":true}}